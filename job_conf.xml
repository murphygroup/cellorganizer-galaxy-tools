<?xml version="1.0"?>
<!-- A sample job config that explicitly configures job running the way it is configured by default (if there is no explicit config). -->
<job_conf>
    <plugins>
        <plugin id="local" type="runner" load="galaxy.jobs.runners.local:LocalJobRunner" workers="4"/>
	<plugin id="slurm" type="runner" load="galaxy.jobs.runners.drmaa:DRMAAJobRunner">
          <!-- Override the $DRMAA_LIBRARY_PATH environment variable -->
          <param id="drmaa_library_path">/opt/packages/slurm-drmaa/1.0.7/lib/libdrmaa.so</param>
	</plugin>
    </plugins>
    <handlers>
        <handler id="main"/>
    </handlers>
    <destinations default="RM-shared">
        <destination id="local" runner="local"/>     
        <destination id="RM-shared" runner="slurm">
	  <param id="nativeSpecification">-p RM-shared --reservation=icaoberg -N 1 -n 4 --mem=16000 -t 24:00:00</param> 
	</destination>
        <destination id="RM" runner="slurm">
	  <param id="nativeSpecification">-p RM -N 1 -n 28  --ntasks-per-node=28 -t 24:00:00</param> 
	</destination>
	</destinations>
    <tools>
	<tool id="download_models_from_repository" destination="local"/>
        <tool id="import_ometiff_from_url" destination="local"/>
        <tool id="upload1" destination="local"/>
    </tools>
</job_conf>
