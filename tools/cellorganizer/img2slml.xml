<tool id="img2slml" name="Trains" version="0.0.3">
<!-- 
 Copyright (C) 2012-2017 Murphy Lab
 Lane Center for Computational Biology
 School of Computer Science
 Carnegie Mellon University

 This program is free software; you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published
 by the Free Software Foundation; either version 2 of the License,
 or (at your option) any later version.

 This program is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program; if not, write to the Free Software
 Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
 02110-1301, USA.

 For additional information visit http://murphylab.web.cmu.edu or
 send email to murphy@cmu.edu
-->
  <description>a generative model.</description>
  <command>
    echo -e "tic;
    current_directory = pwd;
    cellorganizer_directory = getenv('CELLORGANIZER');
    cd( cellorganizer_directory );
    setup();
    cd( current_directory );

    dimensionality = $dimensionalty;
    
    check_if_files_exist_on_disk_and_link_them('$imgdir.dataset');
    files = dir( [ pwd filesep '*.ome.tif'] );
    num_files = length(files);
    options.masks = arrayfun(@() flipdim( OME_loadchannel([directory filesep files{i}],1),3 ), 1:num_files, 'UniformOutput', false);
    dnaImgDir = arrayfun(@() flipdim( OME_loadchannel([directory filesep files{i}],2),3 ), 1:num_files, 'UniformOutput', false);
    cellImgDir = arrayfun(@() flipdim( OME_loadchannel([directory filesep files{i}],3),3 ), 1:num_files, 'UniformOutput', false);
    protImgDir = arrayfun(@() flipdim( OME_loadchannel([directory filesep files{i}],4),3 ), 1:num_files, 'UniformOutput', false);

    options.verbose = true;
    options.debug = false;
    options.display = false;

    options.train.flag = $trainflag;
    
    options.nucleus.class = '$nucleus.class';
    options.nucleus.type = '$nucleus.type';

    options.cell.class = '$cell.class';
    options.cell.type = '$cell.type';
    options.cell.model = '$cell.model';

    options.protein.class = '$protein.class';
    options.protein.type = '$protein.type';
    options.protein.name = '$protein.name';
    options.protein.cytonuclearflag = '$protein.cytonuclearflag';

    options.model.resolution = str2num('$model.resolution');
    options.model.downsampling = str2num('$model.downsampling');

    #for $field in $model.option
	options.${field.name}=${field.value};
    #end for

    diary diary.txt;
    answer = img2slml( dimensionality, dnaImgDir, cellImgDir, proteinImgDir, options );
    diary off;

    diary model_information.txt;
    if exist( './model.mat' ) load( './model.mat' ); model2info( model ); end;
    diary off;
    toc;
    exit;" > script.m;
    
    cat script.m;
    if [ ! -d $output.extra_files_path ]; then mkdir $output.extra_files_path; fi;
    cp script.m $output.extra_files_path;
    
    bash $__tool_directory__/img2slml.sh "output.extra_files_path/script.m";
    bash $__tool_directory__/train_model_report.sh "output.extra_files_path/report.html";
    <!--
    matlab -r "
    check_if_files_exist_on_disk_and_link_them('$dataset');

    #if str( $train.trainflag ) == "all"
      selection_flag('$train.dim.dimensionality','nucleus','$train.dim.nuc.nclasstype.nucleusclass','$train.dim.nuc.nclasstype.nucleustype');
      selection_flag('$train.dim.dimensionality','cell','$train.dim.mem.cclasstype.cellclass','$train.dim.mem.cclasstype.celltype');
      selection_flag('$train.dim.dimensionality','protein','$train.dim.pro.pclasstype.proteinclass','$train.dim.pro.pclasstype.proteintype');
    #end if
    #if str( $train.trainflag ) == "framework"
      selection_flag('$train.dim.dimensionality','nucleus','$train.dim.nuc.nclasstype.nucleusclass','$train.dim.nuc.nclasstype.nucleustype');
      selection_flag('$train.dim.dimensionality','cell','$train.dim.mem.cclasstype.cellclass','$train.dim.mem.cclasstype.celltype');
    #end if
    #if str( $train.trainflag ) == "nuclear"
      selection_flag('$train.dim.dimensionality','nucleus','$train.dim.nuc.nclasstype.nucleusclass','$train.dim.nuc.nclasstype.nucleustype');
    #end if

    documentation = struct();
    #for $field in $doc.documentation
      documentation = setfield( documentation, '${field.docname}', '${field.docvalues}' );
    #end for

    #if str( $train.trainflag ) == "all"
      train_model('$train.dim.dimensionality','$maskchannel','$train.dim.nuc.dnachannel','$train.dim.mem.cellchannel','$train.dim.pro.proteinchannel','$train.trainflag','$modelname','$modelid','$gen.downsamplex','$gen.downsampley','$gen.downsamplez','$train.dim.nuc.nclasstype.nucleustype','$train.dim.nuc.nucleusname','$train.dim.nuc.nclasstype.nucleusclass','$train.dim.nuc.nucleusid','$train.dim.mem.cclasstype.celltype','$train.dim.mem.cellname','$train.dim.mem.cclasstype.cellclass','$train.dim.mem.cellid','$train.dim.pro.pclasstype.proteintype','$train.dim.pro.proteinname','$train.dim.pro.pclasstype.proteinclass','$train.dim.pro.proteinid','$train.dim.pro.proteincytonuclearflag',documentation,'$gen.verbose','$gen.debug');
    #end if
    #if str( $train.trainflag ) == "framework"
      train_model('$train.dim.dimensionality','$maskchannel','$train.dim.nuc.dnachannel','$train.dim.mem.cellchannel','','$train.trainflag','$modelname','$modelid','$gen.downsamplex','$gen.downsampley','$gen.downsamplez','$train.dim.nuc.nclasstype.nucleustype','$train.dim.nuc.nucleusname','$train.dim.nuc.nclasstype.nucleusclass','$train.dim.nuc.nucleusid','$train.dim.mem.cclasstype.celltype','$train.dim.mem.cellname','$train.dim.mem.cclasstype.cellclass','$train.dim.mem.cellid','','','','','',documentation,'$gen.verbose','$gen.debug');
    #end if
    #if str( $train.trainflag ) == "nuclear"
      train_model('$train.dim.dimensionality','$maskchannel','$train.dim.nuc.dnachannel','','','$train.trainflag','$modelname','$modelid','$gen.downsamplex','$gen.downsampley','$gen.downsamplez','$train.dim.nuc.nclasstype.nucleustype','$train.dim.nuc.nucleusname','$train.dim.nuc.nclasstype.nucleusclass','$train.dim.nuc.nucleusid','','','','','','','','','',documentation,'$gen.verbose','$gen.debug');
    #end if

    toc,
    diary off;
    diary model_information.txt;
    if exist( './model.mat' ); load( './model.mat' ); model2info( model ); end;
    diary off;
    exit;";
    
    bash $__tool_directory__/train_model_report.sh $output2.extra_files_path;
    -->
  </command>
  <inputs>

      <section name="imgdir" title="image directory" expanded="True">
	  <param name="dataset" format="tiff" type="data" label="OME.TIFF(s)"/>
      </section>
      
      <param name="trainflag" label="Select the cellular components desired for modeling" type="select">
	  <option value="all" selected="true"> all </option>
	  <option value="framework"> framework </option>
      </param>

      <param name="dimensionality" type="select" label="dimensionality">
	  <option value="2"> 2D </option>
	  <option value="3"> 3D </option>
      </param>
      
      <section name="nucleus" title="nucleus options" expanded="True">
	  <param name="class" type="select" label="class">
	      <option value="nuclear_membrane"> nuclear membrane </option>
	      <option value="framework"> framework </option>
	  </param>
	  <param name="type" type="select" label="type">
	      <option value="diffeomorphic"> diffeomorphic </option>
	      <option value="cylindrical_surface"> cylindrical surface </option>
	      <option value="medial_axis"> medial axis </option>
	      <option value="pca"> pca </option>
	  </param>
      </section>
      
      <section name="cell" title="cell options" expanded="False">
	  <param name="class" type="select" label="class">
	      <option value="cell_membrane"> cell membrane </option>
	      <option value="framework"> framework </option>
	  </param>
	  <param name="type" type="select" label="type">
	      <option value="ratio"> ratio </option>
	      <option value="diffeomorphic"> diffeomorphic </option>
	      <option value="pca"> pca </option>
	  </param>
	  <param name="model" type="select" label="model">
	      <option value="lamp2"> LAMP 2 </option>
	      <option value="Tub"> Tub </option>
	      <option value="framework"> framework </option>
	  </param>
      </section>

    <section name="protein" title="protein options" expanded="True">
	<param name="class" type="select" label="class">
	    <option value="vesicle"> vesicle </option>
	    <option value="lysosome"> lysosome </option>
	    <option value="nuc"> nuc </option>
	    <option value="microtubule"> microtubule </option>
	    <option value="network"> network </option>
	    <option value="standardized_voxels"> standardized_voxels </option>
	</param>
	<param name="type" type="select" label="type">
	    <option value="gmm"> gmm </option>
	    <option value="microtubule_growth"> microtubule growth </option>
	    <option value="standardized_map_half-ellipsoid"> standardized map half-ellipsoid </option>
	    <option value="morphing"> morphing </option>
	</param>
	<param name="name" type="select" label="name">
	    <option value="lamp2"> lamp 2 </option>
	    <option value="Tub"> Tub </option>
	</param>
	<param name="cytonuclearflag" type="select" label="cytonuclearflag">
	    <option value="nuc"> nuc </option>
	    <option value="cyto"> cyto </option>
	</param>
    </section>
    
    <section name="model" title="model options" expanded="false">
	<param name="resolution" type="text" label="model resolution (input should be numeric sequence delimited by single space)"/>
	<param name="downsampling" type="text" label="model downsampling (input should be numeric sequence delimited by single space)"/>
	<repeat name="option" title="Options">
	    <param name="name" type="text" label="Name"></param>
	    <param name="value" type="text" label="Value"></param>
	</repeat>
    </section>
</inputs>
  <!--
  <inputs>
    <param name="dataset" type="data" label="Choose a data set for training" multiple="true" optional="false" />
    <param name="modelname" type="text" value="model" label="Provide a name for the model"/>
    <param name="modelid" type="text" value="default" label="Provide an (optional) id for the model"/>
    <param name="maskchannel" type="integer" value="4" label="Provide the mask channel number for the imageset"/>
    <conditional name="train">
      <param name="trainflag" label="Selected the cellular components desired for modeling" type="select">
        <option value="all" selected="true">all</option>
        <option value="framework">framework</option>
        <option value="nuclear">nuclear</option>
      </param>
      <when value="all">
        <conditional name="dim">
          <param name="dimensionality" type="select" label="Dimensionality:">
            <option value="2D">2D</option>
            <option value="3D" selected="true">3D</option>
          </param>
          <when value="2D">
            <section name="nuc" title="Nucleus Options" expanded="false">
              <param name="dnachannel" type="integer" value="1" label="Provide the dna channel number for the imageset"/>
              <param name="nucleusname" type="text" value="default" label="Provide an (optional) name for the nuclear model"/>
              <param name="nucleusid" type="text" value="default" label="Provide an (optional) id for the nuclear model"/>å
              <conditional name="nclasstype">
                <param name="nucleusclass" label="Choose a class for this model:" type="select">
                  <option value="nuclear_membrane" selected="true">nuclear membrane</option>
                  <option value="framework">framework</option>
                </param>
                <when value="nuclear_membrane">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                     <option value="medial_axis">medial axis</option>
                     <option value="cylindrical_surface" selected="true">cylindrical surface</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
              </conditional>
            </section>
            <section name="mem" title="Cell Membrane Options" expanded="false">
              <param name="cellchannel" type="integer" value="2" label="Provide the cell channel number for the imageset"/>
              <param name="cellname" type="text" value="default" label="Provide an (optional) name for the cell model"/>
              <param name="cellid" type="text" value="default" label="Provide an (optional) id for the cell model"/>
              <conditional name="cclasstype">
                <param name="cellclass" label="Choose a class for this model:" type="select">
                  <option value="cell_membrane" selected="true">cell membrane</option>
                  <option value="framework">framework</option>
                </param>
                <when value="cell_membrane">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="ratio" selected="true">ratio</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
              </conditional>
            </section>
            <section name="pro" title="Protein Options" expanded="false">
              <param name="proteinchannel" type="integer" value="3" label="Provide the protein channel number for the imageset"/>
              <param name="proteinname" type="text" value="default" label="Provide an (optional) name for the protein model"/>
              <param name="proteinid" type="text" value="default" label="Provide an (optional) id for the protein model"/>
              <param name="proteincytonuclearflag" type="select" label="Select a protein location">
                <option value="cyto" selected="true">Cytoplasm</option>
                <option value="nuc">Nucleus</option>
                <option value="all">all</option>
              </param>
              <conditional name="pclasstype">
                <param name="proteinclass" label="Choose a class for this model:" type="select">
                  <option value="vesicle" selected="true">vesicle</option>
                </param>
                <when value="vesicle">
                  <param name="proteintype" label="Choose a model type:" type="select">
                    <option value="gmm" selected="true">gmm</option>
                  </param>
                </when>
              </conditional>
            </section>
          </when>
          <when value="3D">
            <section name="nuc" title="Nucleus Options" expanded="false">
              <param name="dnachannel" type="integer" value="1" label="Provide the dna channel number for the imageset"/>
              <param name="nucleusname" type="text" value="default" label="Provide an (optional) name for the nuclear model"/>
              <param name="nucleusid" type="text" value="default" label="Provide an (optional) id for the nuclear model"/>å
              <conditional name="nclasstype">
                <param name="nucleusclass" label="Choose a class for this model:" type="select">
                  <option value="nuclear_membrane" selected="true">nuclear membrane</option>
                  <option value="framework">framework</option>
                </param>
                <when value="nuclear_membrane">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                     <option value="medial_axis">medial axis</option>
                     <option value="cylindrical_surface" selected="true">cylindrical surface</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
              </conditional>
            </section>
            <section name="mem" title="Cell Membrane Options" expanded="false">
              <param name="cellchannel" type="integer" value="2" label="Provide the cell channel number for the imageset"/>
              <param name="cellname" type="text" value="default" label="Provide an (optional) name for the cell model"/>
              <param name="cellid" type="text" value="default" label="Provide an (optional) id for the cell model"/>
              <conditional name="cclasstype">
                <param name="cellclass" label="Choose a class for this model:" type="select">
                  <option value="cell_membrane" selected="true">cell membrane</option>
                  <option value="framework">framework</option>
                  <option value="protein_distribution">protein distribution</option>
                </param>
                <when value="cell_membrane">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="ratio" selected="true">ratio</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
                <when value="protein_distribution">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="morphing" selected="true">morphing</option>
                  </param>
                </when>
              </conditional>
            </section>
            <section name="pro" title="Protein Options" expanded="false">
              <param name="proteinchannel" type="integer" value="3" label="Provide the protein channel number for the imageset"/>
              <param name="proteinname" type="text" value="default" label="Provide an (optional) name for the protein model"/>
              <param name="proteinid" type="text" value="default" label="Provide an (optional) id for the protein model"/>
              <param name="proteincytonuclearflag" type="select" label="Select a protein location">
                <option value="cyto" selected="true">Cytoplasm</option>
                <option value="nuc">Nucleus</option>
                <option value="all">all</option>
              </param>
              <conditional name="pclasstype">
                <param name="proteinclass" label="Choose a class for this model:" type="select">
                  <option value="vesicle" selected="true">vesicle</option>
                  <option value="network">network</option>
                  <option value="standardized_voxels">standardized voxels</option>
                </param>
                <when value="vesicle">
                  <param name="proteintype" label="Choose a model type:" type="select">
                    <option value="gmm" selected="true">gmm</option>
                  </param>
                </when>
                <when value="network">
                  <param name="proteintype" label="Choose a model type:" type="select">
                    <option value="microtubule_growth" selected="true">microtubule growth</option>
                  </param>
                </when>
                <when value="standardized_voxels">
                  <param name="proteintype" label="Choose a model type:" type="select">
                    <option value="standardized_map_half-ellipsoid" selected="true">standardized map half-ellipsoid</option>
                  </param>
                </when>
              </conditional>
            </section>
          </when>
        </conditional>
      </when>
      <when value="framework">
        <conditional name="dim">
          <param name="dimensionality" type="select" label="Dimensionality:">
            <option value="2D">2D</option>
            <option value="3D" selected="true">3D</option>
          </param>
          <when value="2D">
            <section name="nuc" title="Nucleus Options" expanded="false">
              <param name="dnachannel" type="integer" value="1" label="Provide the dna channel number for the imageset"/>
              <param name="nucleusname" type="text" value="default" label="Provide an (optional) name for the nuclear model"/>
              <param name="nucleusid" type="text" value="default" label="Provide an (optional) id for the nuclear model"/>å
              <conditional name="nclasstype">
                <param name="nucleusclass" label="Choose a class for this model:" type="select">
                  <option value="nuclear_membrane" selected="true">nuclear membrane</option>
                  <option value="framework">framework</option>
                </param>
                <when value="nuclear_membrane">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                     <option value="medial_axis">medial axis</option>
                     <option value="cylindrical_surface" selected="true">cylindrical surface</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
              </conditional>
            </section>
            <section name="mem" title="Cell Membrane Options" expanded="false">
              <param name="cellchannel" type="integer" value="2" label="Provide the cell channel number for the imageset"/>
              <param name="cellname" type="text" value="default" label="Provide an (optional) name for the cell model"/>
              <param name="cellid" type="text" value="default" label="Provide an (optional) id for the cell model"/>
              <conditional name="cclasstype">
                <param name="cellclass" label="Choose a class for this model:" type="select">
                  <option value="cell_membrane" selected="true">cell membrane</option>
                  <option value="framework">framework</option>
                </param>
                <when value="cell_membrane">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="ratio" selected="true">ratio</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
              </conditional>
            </section>
          </when>
          <when value="3D">
            <section name="nuc" title="Nucleus Options" expanded="false">
              <param name="dnachannel" type="integer" value="1" label="Provide the dna channel number for the imageset"/>
              <param name="nucleusname" type="text" value="default" label="Provide an (optional) name for the nuclear model"/>
              <param name="nucleusid" type="text" value="default" label="Provide an (optional) id for the nuclear model"/>å
              <conditional name="nclasstype">
                <param name="nucleusclass" label="Choose a class for this model:" type="select">
                  <option value="nuclear_membrane" selected="true">nuclear membrane</option>
                  <option value="framework">framework</option>
                </param>
                <when value="nuclear_membrane">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                     <option value="medial_axis">medial axis</option>
                     <option value="cylindrical_surface" selected="true">cylindrical surface</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
              </conditional>
            </section>
            <section name="mem" title="Cell Membrane Options" expanded="false">
              <param name="cellchannel" type="integer" value="2" label="Provide the cell channel number for the imageset"/>
              <param name="cellname" type="text" value="default" label="Provide an (optional) name for the cell model"/>
              <param name="cellid" type="text" value="default" label="Provide an (optional) id for the cell model"/>
              <conditional name="cclasstype">
                <param name="cellclass" label="Choose a class for this model:" type="select">
                  <option value="cell_membrane" selected="true">cell membrane</option>
                  <option value="framework">framework</option>
                  <option value="protein_distribution">protein distribution</option>
                </param>
                <when value="cell_membrane">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="ratio" selected="true">ratio</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
                <when value="protein_distribution">
                  <param name="celltype" label="Choose a model type:" type="select">
                    <option value="morphing" selected="true">morphing</option>
                  </param>
                </when>
              </conditional>
            </section>
          </when>
        </conditional>
      </when>
      <when value="nuclear">
        <conditional name="dim">
          <param name="dimensionality" type="select" label="Dimensionality:">
            <option value="2D">2D</option>
            <option value="3D" selected="true">3D</option>
          </param>
          <when value="2D">
            <section name="nuc" title="Nucleus Options" expanded="false">
              <param name="dnachannel" type="integer" value="1" label="Provide the dna channel number for the imageset"/>
              <param name="nucleusname" type="text" value="default" label="Provide an (optional) name for the nuclear model"/>
              <param name="nucleusid" type="text" value="default" label="Provide an (optional) id for the nuclear model"/>å
              <conditional name="nclasstype">
                <param name="nucleusclass" label="Choose a class for this model:" type="select">
                  <option value="nuclear_membrane" selected="true">nuclear membrane</option>
                  <option value="framework">framework</option>
                </param>
                <when value="nuclear_membrane">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                     <option value="medial_axis">medial axis</option>
                     <option value="cylindrical_surface" selected="true">cylindrical surface</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
              </conditional>
            </section>
          </when>
          <when value="3D">
            <section name="nuc" title="Nucleus Options" expanded="false">
              <param name="dnachannel" type="integer" value="1" label="Provide the dna channel number for the imageset"/>
              <param name="nucleusname" type="text" value="default" label="Provide an (optional) name for the nuclear model"/>
              <param name="nucleusid" type="text" value="default" label="Provide an (optional) id for the nuclear model"/>å
              <conditional name="nclasstype">
                <param name="nucleusclass" label="Choose a class for this model:" type="select">
                  <option value="nuclear_membrane" selected="true">nuclear membrane</option>
                  <option value="framework">framework</option>
                </param>
                <when value="nuclear_membrane">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                     <option value="medial_axis">medial axis</option>
                     <option value="cylindrical_surface" selected="true">cylindrical surface</option>
                  </param>
                </when>
                <when value="framework">
                  <param name="nucleustype" label="Choose a model type:" type="select">
                    <option value="diffeomorphic" selected="true">diffeomorphic</option>
                  </param>
                </when>
              </conditional>
            </section>
          </when>
        </conditional>
      </when>
    </conditional>

    <section name="gen" title="Advanced" expanded="false">
      <param name="downsamplex" type="select" label="Select a downsampling factor in the x dimension, larger values return a possible more coarse model">
        <option value="5" selected="true">5</option>
        <option value="2">2</option>
        <option value="1">1</option>
      </param>
      <param name="downsampley" type="select" label="Select a downsampling factor in the y direction, larger values return a possible more coarse model">
        <option value="5" selected="true">5</option>
        <option value="2">2</option>
        <option value="1">1</option>
      </param>
      <param name="downsamplez" type="select" label="Select a downsampling factor in the z direction, larger values return a possible more coarse model">
        <option value="5">5</option>
        <option value="2">2</option>
        <option value="1" selected="true">1</option>
      </param>
      <param name="verbose" type="boolean" label="Print all information provided during training?" selected="true">
      </param>
      <param name="debug" type="boolean" label="Save intermediate results?" selected="false">
      </param>
    </section>
    
    <section name="doc" title="Documentation" expanded="false">
      <repeat name="documentation" title="Documentation">
        <param name="docname" type="text" label="Name"> </param>
        <param name="docvalues" type="text" label="Values"></param>
      </repeat>
    </section>

  </inputs>
  -->
  <outputs>
    <data format="mat" name="output1" from_work_dir="model.mat"/>
    <data format="html" name="output2" from_work_dir="report.html"/>
  </outputs>

<help>

**Description**

Trains a generative model from a collection of OME.TIFF files.

-----

**Input**

A dataset of OME.TIFF files, and a combination of options selections.

-----

**Output**

A generative model.

</help>
</tool>
