<tool id="import_image_or_model" name="Imports image or model" version="1.0.0">
<!--
 Copyright (C) 2007-2017 Murphy Lab
 Lane Center for Computational Biology
 School of Computer Science
 Carnegie Mellon University

 This program is free software; you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published
 by the Free Software Foundation; either version 2 of the License,
 or (at your option) any later version.

 This program is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
 General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program; if not, write to the Free Software
 Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
 02110-1301, USA.

 For additional information visit http://murphylab.web.cmu.edu or
 send email to murphy@cmu.edu
-->
  <description>from a URL.</description>
  <command interpreter="bash">
      import_image_or_model.sh ${input_type.URL} ${input_type.input_type_selector}
  </command>
  <inputs>
      <conditional name="input_type">
	  <param name="input_type_selector" type="select" label="Select type of data being downloaded">
	      <option value="ometiff" selected="true">OME.TIFF</option>
	      <option value="mat">Generative model</option>
	  </param>
	  <when value="ometiff">
	      <param name="URL" type="text" value="http://www.cellorganizer.org/demos/demo3D34/img/cell1/cell1.ome.tif" label="Provide the image URL"/>
	  </when>
	  <when value="mat">
	      <param name="URL" type="text" value="http://www.cellorganizer.org/downloads/models/nuc.mat" label="Provide the model URL"/>
	  </when>
      </conditional>
  </inputs>
  <outputs>
      <data format="tiff" name="output" from_work_dir="download" label="Imported image or model">
	  <change_format>
	      <when input="input_type.input_type_selector" value="mat" format="mat"/>
	  </change_format>
      </data>
  </outputs>
<help>
    
**Description**

Downloads an image or model from the URL provided, if they are considered valid inputs.

-----

**Input**

A link to an image or model. An image must be a valid OME.TIFF_, and any model must be a valid MAT-file_.

OME.TIFF's provided are validated using the BioFormats_ command line tools_.

-----

**Output**

The file is placed in the workspace of the current history if it is deemed valid. 

.. _OME.TIFF: https://docs.openmicroscopy.org/ome-model/5.6.3/ome-tiff/index.html
.. _MAT-file: https://www.mathworks.com/help/matlab/import_export/mat-file-versions.html
.. _BioFormats: http://www.openmicroscopy.org/site/products/bio-formats
.. _tools: http://www.openmicroscopy.org/site/support/bio-formats5.5/users/comlinetools

</help>
</tool>
